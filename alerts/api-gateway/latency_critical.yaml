alert: APIGatewayLatencyCritical
expr: |
  histogram_quantile(0.95, rate(api_gateway_request_duration_seconds_bucket[5m])) > 2
for: 3m
labels:
  severity: critical
  service: api-gateway
  team: platform
annotations:
  summary: "API Gateway P95 latency above 2s"
  description: "P95 latency is {{ $value | printf \"%.2f\" }}s - user experience degraded"
  runbook: "https://wiki.internal/runbooks/api-gateway-latency"
