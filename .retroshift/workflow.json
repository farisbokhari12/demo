{
  "id": "wf-1764364807237",
  "name": "Git Diff Test Generator",
  "nodes": [
    {
      "id": "input_base_branch",
      "type": "io.input",
      "position": {
        "x": 800,
        "y": 80
      },
      "data": {
        "type": "io.input",
        "label": "Base Branch",
        "params": {
          "key": "base_branch"
        },
        "key": "base_branch"
      }
    },
    {
      "id": "git_diff",
      "type": "tool.invoke",
      "position": {
        "x": 800,
        "y": 248
      },
      "data": {
        "type": "tool.invoke",
        "label": "Compare Branches",
        "params": {
          "base_branch": "{{ base_branch }}",
          "output_key": "diff_result",
          "tool_name": "git.diff.branch",
          "args": {
            "base_branch": "{{ base_branch }}"
          }
        },
        "base_branch": "{{ base_branch }}",
        "output_key": "diff_result",
        "tool_name": "git.diff.branch",
        "args": {
          "base_branch": "{{ base_branch }}"
        }
      }
    },
    {
      "id": "generate_tests",
      "type": "tool.invoke",
      "position": {
        "x": 800,
        "y": 416
      },
      "data": {
        "type": "tool.invoke",
        "label": "Generate Tests",
        "params": {
          "file_paths": "{{ diff_result.changed_files }}",
          "framework": "auto",
          "output_key": "test_results",
          "tool_name": "test.generate",
          "args": {
            "file_paths": "{{ diff_result.changed_files }}",
            "framework": "auto"
          }
        },
        "file_paths": "{{ diff_result.changed_files }}",
        "framework": "auto",
        "output_key": "test_results",
        "tool_name": "test.generate",
        "args": {
          "file_paths": "{{ diff_result.changed_files }}",
          "framework": "auto"
        }
      }
    },
    {
      "id": "run_tests",
      "type": "tool.invoke",
      "position": {
        "x": 800,
        "y": 584
      },
      "data": {
        "type": "tool.invoke",
        "label": "Run Tests with Retry",
        "params": {
          "test_files": "{{ test_results.generated_tests }}",
          "max_iterations": 3,
          "fix_target": "auto",
          "output_key": "final_results",
          "tool_name": "test.repair_and_rerun",
          "args": {
            "test_files": "{{ test_results.generated_tests }}",
            "max_iterations": 3,
            "fix_target": "auto"
          }
        },
        "test_files": "{{ test_results.generated_tests }}",
        "max_iterations": 3,
        "fix_target": "auto",
        "output_key": "final_results",
        "tool_name": "test.repair_and_rerun",
        "args": {
          "test_files": "{{ test_results.generated_tests }}",
          "max_iterations": 3,
          "fix_target": "auto"
        }
      }
    },
    {
      "id": "output_results",
      "type": "io.output",
      "position": {
        "x": 800,
        "y": 752
      },
      "data": {
        "type": "io.output",
        "label": "Results",
        "params": {
          "key": "results",
          "from": "final_results"
        },
        "key": "results",
        "from": "final_results"
      }
    }
  ],
  "edges": [
    {
      "id": "input_base_branch-git_diff",
      "source": "input_base_branch",
      "target": "git_diff"
    },
    {
      "id": "git_diff-generate_tests",
      "source": "git_diff",
      "target": "generate_tests"
    },
    {
      "id": "generate_tests-run_tests",
      "source": "generate_tests",
      "target": "run_tests"
    },
    {
      "id": "run_tests-output_results",
      "source": "run_tests",
      "target": "output_results"
    }
  ],
  "meta": {}
}